{"ast":null,"code":"import { basePath, apiVersion } from './config';\nimport { ACCESS_TOKEN, REFRESH_TOKEN } from '../utils/constants';\nimport jwtDecode from 'jwt-decode';\nexport function getAccessToken() {\n  const accessToken = localStorage.getItem(ACCESS_TOKEN);\n\n  if (!accessToken || accessToken === 'null') {\n    return null;\n  }\n\n  return willExpireToken(accessToken) ? null : accessToken;\n}\nexport function getRefreshToken() {\n  const refreshToken = localStorage.getItem(REFRESH_TOKEN);\n\n  if (!refreshToken || accessToken === 'null') {\n    return null;\n  }\n\n  return willExpireToken(accessToken) ? null : accessToken;\n}\n\nfunction willExpireToken(token) {\n  const second = 60;\n  const metaToken = jwtDecode(token);\n  const {\n    exp\n  } = metaToken;\n  const now = (Date.now + second) / 1000;\n  return now > exp;\n}","map":{"version":3,"sources":["/Users/ddiaz/Desktop/web-personal/client/src/api/auth.js"],"names":["basePath","apiVersion","ACCESS_TOKEN","REFRESH_TOKEN","jwtDecode","getAccessToken","accessToken","localStorage","getItem","willExpireToken","getRefreshToken","refreshToken","token","second","metaToken","exp","now","Date"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,UAAnB,QAAqC,UAArC;AACA,SAASC,YAAT,EAAuBC,aAAvB,QAA4C,oBAA5C;AAEA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAO,SAASC,cAAT,GAA0B;AAC7B,QAAMC,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqBN,YAArB,CAApB;;AAGA,MAAI,CAACI,WAAD,IAAgBA,WAAW,KAAK,MAApC,EAA4C;AACxC,WAAO,IAAP;AACH;;AAGD,SAAOG,eAAe,CAACH,WAAD,CAAf,GAA+B,IAA/B,GAAsCA,WAA7C;AACH;AAED,OAAO,SAASI,eAAT,GAA2B;AAC9B,QAAMC,YAAY,GAAGJ,YAAY,CAACC,OAAb,CAAqBL,aAArB,CAArB;;AAGA,MAAI,CAACQ,YAAD,IAAiBL,WAAW,KAAK,MAArC,EAA6C;AACzC,WAAO,IAAP;AACH;;AAGD,SAAOG,eAAe,CAACH,WAAD,CAAf,GAA+B,IAA/B,GAAsCA,WAA7C;AACH;;AAGD,SAASG,eAAT,CAAyBG,KAAzB,EAAgC;AAC5B,QAAMC,MAAM,GAAG,EAAf;AACA,QAAMC,SAAS,GAAGV,SAAS,CAACQ,KAAD,CAA3B;AACA,QAAM;AAAEG,IAAAA;AAAF,MAAUD,SAAhB;AACA,QAAME,GAAG,GAAG,CAACC,IAAI,CAACD,GAAL,GAAWH,MAAZ,IAAsB,IAAlC;AACA,SAAOG,GAAG,GAAGD,GAAb;AACH","sourcesContent":["import { basePath, apiVersion } from './config'\nimport { ACCESS_TOKEN, REFRESH_TOKEN } from '../utils/constants'\n\nimport jwtDecode from 'jwt-decode'\n\nexport function getAccessToken() {\n    const accessToken = localStorage.getItem(ACCESS_TOKEN);\n\n\n    if (!accessToken || accessToken === 'null') {\n        return null\n    }\n\n\n    return willExpireToken(accessToken) ? null : accessToken;\n}\n\nexport function getRefreshToken() {\n    const refreshToken = localStorage.getItem(REFRESH_TOKEN);\n\n\n    if (!refreshToken || accessToken === 'null') {\n        return null\n    }\n\n\n    return willExpireToken(accessToken) ? null : accessToken;\n}\n\n\nfunction willExpireToken(token) {\n    const second = 60;\n    const metaToken = jwtDecode(token)\n    const { exp } = metaToken\n    const now = (Date.now + second) / 1000\n    return now > exp;\n}"]},"metadata":{},"sourceType":"module"}