{"ast":null,"code":"var _jsxFileName = \"/Users/ddiaz/web-personal-udemy/client/src/components/Admin/Courses/AddEditCourseForm/AddEditCourseForm.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Form, Input, Button, notification } from 'antd';\nimport { KeyOutlined, GiftOutlined, DollarOutlined, LinkOutlined } from '@ant-design/icons';\nimport { getAccessTokenApi } from '../../../../api/auth';\nimport { addCourseApi, updateCourseApi } from '../../../../api/courses';\nimport './AddEditCourseForm.scss';\nexport default function AddEditCourseForm(props) {\n  const {\n    setIsVisibleModal,\n    setReloadCourse,\n    course\n  } = props;\n  const [courseData, setCourseData] = useState({});\n  useEffect(() => {\n    course && setCourseData(course);\n  }, [course]);\n\n  const addCourse = e => {\n    e.preventDefault();\n\n    if (!courseData.idCourse) {\n      notification['error']({\n        message: 'El id del curso es obligatorio.'\n      });\n    } else {\n      const accessToken = getAccessTokenApi();\n      addCourseApi(accessToken, courseData).then(response => {\n        const typeNotification = response.code === 200 ? 'success' : 'warning';\n        notification[typeNotification]({\n          message: response.message\n        });\n        setIsVisibleModal(false);\n        setReloadCourse(true);\n        setCourseData({});\n      }).catch(err => {\n        console.log({\n          err\n        });\n        notification['error']({\n          message: 'Error del servidor.'\n        });\n      });\n    }\n  };\n\n  const updateCourse = e => {\n    e.preventDefault();\n    const accessToken = getAccessTokenApi();\n    updateCourseApi(accessToken, course._id, courseData).then(response => {\n      const typeNotification = response.code === 200 ? \"success\" : \"warning\";\n      notification[typeNotification]({\n        message: response\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-edit-course-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AddEditForm, {\n    course: course,\n    addCourse: addCourse,\n    updateCourse: updateCourse,\n    setCourseData: setCourseData,\n    courseData: courseData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }));\n}\n\nfunction AddEditForm(props) {\n  const {\n    course,\n    addCourse,\n    updateCourse,\n    setCourseData,\n    courseData\n  } = props;\n  return /*#__PURE__*/React.createElement(Form, {\n    className: \"form-add-edit\",\n    onSubmitCapture: course ? updateCourse : addCourse,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(KeyOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 29\n      }\n    }),\n    placeholder: \"Id del curso.\",\n    value: courseData.idCourse,\n    onChange: e => setCourseData({ ...courseData,\n      idCourse: e.target.value\n    }),\n    disabled: course ? true : false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(GiftOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 29\n      }\n    }),\n    placeholder: \"Cupon de descuento.\",\n    value: courseData.coupon,\n    onChange: e => setCourseData({ ...courseData,\n      coupon: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(LinkOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 29\n      }\n    }),\n    placeholder: \"URL del curso.\",\n    value: courseData.link,\n    onChange: e => setCourseData({ ...courseData,\n      link: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(DollarOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 29\n      }\n    }),\n    placeholder: \"Precio del curso.\",\n    value: courseData.price,\n    onChange: e => setCourseData({ ...courseData,\n      price: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    className: \"btn-submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, course ? 'Actualizar curso' : 'Crear curso')));\n}","map":{"version":3,"sources":["/Users/ddiaz/web-personal-udemy/client/src/components/Admin/Courses/AddEditCourseForm/AddEditCourseForm.js"],"names":["React","useState","useEffect","Form","Input","Button","notification","KeyOutlined","GiftOutlined","DollarOutlined","LinkOutlined","getAccessTokenApi","addCourseApi","updateCourseApi","AddEditCourseForm","props","setIsVisibleModal","setReloadCourse","course","courseData","setCourseData","addCourse","e","preventDefault","idCourse","message","accessToken","then","response","typeNotification","code","catch","err","console","log","updateCourse","_id","AddEditForm","target","value","coupon","link","price"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Form, Input, Button, notification } from 'antd';\nimport {\n    KeyOutlined,\n    GiftOutlined,\n    DollarOutlined,\n    LinkOutlined\n} from '@ant-design/icons';\nimport { getAccessTokenApi } from '../../../../api/auth';\nimport { addCourseApi, updateCourseApi } from '../../../../api/courses';\n\nimport './AddEditCourseForm.scss';\n\nexport default function AddEditCourseForm(props) {\n    const { setIsVisibleModal, setReloadCourse, course } = props;\n    const [courseData, setCourseData] = useState({});\n\n    useEffect(() => {\n        course && setCourseData(course)\n    }, [course])\n\n    const addCourse = e => {\n        e.preventDefault()\n        \n        if (!courseData.idCourse) {\n            notification['error']({message: 'El id del curso es obligatorio.'})\n        } else {\n            const accessToken = getAccessTokenApi();\n\n            addCourseApi(accessToken, courseData)\n                .then(response => {\n                    const typeNotification = response.code === 200 ? 'success' : 'warning';\n                    notification[typeNotification]({ message: response.message })\n                    setIsVisibleModal(false)\n                    setReloadCourse(true)\n                    setCourseData({})\n                })\n                .catch((err) => {\n                    console.log({err});\n                    notification['error']({message: 'Error del servidor.'})\n                })\n        }\n    }\n\n    const updateCourse = e => {\n        e.preventDefault()\n\n        const accessToken = getAccessTokenApi()\n\n        updateCourseApi(accessToken, course._id, courseData)\n            .then(response => {\n                const typeNotification = response.code === 200 ? \"success\" : \"warning\";\n                notification[typeNotification]({message: response})\n            })\n    }\n\n    return (\n        <div className='add-edit-course-form'>\n            <AddEditForm \n                course={course}\n                addCourse={addCourse}\n                updateCourse={updateCourse}\n                setCourseData={setCourseData}\n                courseData={courseData}\n            />\n        </div>\n    )\n}\n\n\nfunction AddEditForm(props) {\n    const { course, addCourse, updateCourse, setCourseData, courseData } = props;\n    return (\n        <Form className='form-add-edit' onSubmitCapture={course ? updateCourse : addCourse}>\n            <Form.Item>\n                <Input \n                    prefix={<KeyOutlined />}\n                    placeholder='Id del curso.'\n                    value={courseData.idCourse}\n                    onChange={e => setCourseData({...courseData, idCourse: e.target.value})}\n                    disabled={course ? true : false}\n                />\n            </Form.Item>\n            <Form.Item>\n                <Input \n                    prefix={<GiftOutlined />}\n                    placeholder='Cupon de descuento.'\n                    value={courseData.coupon}\n                    onChange={e => setCourseData({...courseData, coupon: e.target.value})}\n                />\n            </Form.Item>\n            <Form.Item>\n                <Input \n                    prefix={<LinkOutlined />}\n                    placeholder='URL del curso.'\n                    value={courseData.link}\n                    onChange={e => setCourseData({...courseData, link: e.target.value})}\n                />\n            </Form.Item>\n            <Form.Item>\n                <Input \n                    prefix={<DollarOutlined />}\n                    placeholder='Precio del curso.'\n                    value={courseData.price}\n                    onChange={e => setCourseData({...courseData, price: e.target.value})}\n                />\n            </Form.Item>\n            <Form.Item>\n                <Button type='primary' htmlType='submit' className='btn-submit'>\n                    {course ? 'Actualizar curso' : 'Crear curso'}\n                </Button>\n            </Form.Item>\n        </Form>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}