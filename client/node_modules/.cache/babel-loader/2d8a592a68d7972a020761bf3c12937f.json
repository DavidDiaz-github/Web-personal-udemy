{"ast":null,"code":"var _jsxFileName = \"/Users/ddiaz/web-personal-udemy/client/src/components/Admin/MenuWeb/MenuWebList/MenuWebList.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Switch, List, Button, Modal as ModalAntd, notification } from 'antd';\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\nimport Modal from '../../../Modal';\nimport DragSortableList from 'react-drag-sortable';\nimport { updateMenuApi, activateMenuApi } from '../../../../api/menu';\nimport { getAccessTokenApi } from '../../../../api/auth';\nimport './MenuWebList.scss';\nconst {\n  confirm\n} = ModalAntd;\nexport default function MenuWebList(props) {\n  const {\n    menu,\n    setReloadMenuWeb\n  } = props;\n  const [listItems, setListItems] = useState([]);\n  const [isVisibleModal, setIsVisibleModal] = useState(false);\n  const [modalTitle, setModalTitle] = useState('');\n  const [modalContent, setModalContent] = useState(null);\n  useEffect(() => {\n    const listItemArray = [];\n    menu.forEach(item => {\n      listItemArray.push({\n        content: /*#__PURE__*/React.createElement(MenuItem, {\n          item: item,\n          activateMenu: activateMenu,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 26\n          }\n        })\n      });\n    });\n    setListItems(listItemArray);\n  }, [menu]);\n\n  const activateMenu = (menu, status) => {\n    const accessToken = getAccessTokenApi();\n    activateMenuApi(accessToken, menu._id, status).then(response => {\n      notification[\"success\"]({\n        message: response\n      });\n    });\n  };\n\n  const onSort = (sortedList, dropEvent) => {\n    const accessToken = getAccessTokenApi();\n    sortedList.forEach(item => {\n      const {\n        _id\n      } = item.content.props.item;\n      const order = item.rank;\n      updateMenuApi(accessToken, _id, {\n        order\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu-web-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu-web-list__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, \"Nuevo menu\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu-web-list__items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DragSortableList, {\n    items: listItems,\n    onSort: onSort,\n    type: \"vertical\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  })));\n}\n\nfunction MenuItem(props) {\n  const {\n    item,\n    activateMenu\n  } = props;\n  return /*#__PURE__*/React.createElement(List.Item, {\n    actions: [/*#__PURE__*/React.createElement(Switch, {\n      defaultChecked: item.active,\n      on: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(EditOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      type: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(DeleteOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 18\n      }\n    }))],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(List.Item.Meta, {\n    title: item.title,\n    description: item.url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/ddiaz/web-personal-udemy/client/src/components/Admin/MenuWeb/MenuWebList/MenuWebList.js"],"names":["React","useState","useEffect","Switch","List","Button","Modal","ModalAntd","notification","EditOutlined","DeleteOutlined","DragSortableList","updateMenuApi","activateMenuApi","getAccessTokenApi","confirm","MenuWebList","props","menu","setReloadMenuWeb","listItems","setListItems","isVisibleModal","setIsVisibleModal","modalTitle","setModalTitle","modalContent","setModalContent","listItemArray","forEach","item","push","content","activateMenu","status","accessToken","_id","then","response","message","onSort","sortedList","dropEvent","order","rank","MenuItem","active","title","url"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Switch, List, Button, Modal as ModalAntd, notification } from 'antd';\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\nimport Modal from '../../../Modal';\nimport DragSortableList from 'react-drag-sortable';\nimport { updateMenuApi, activateMenuApi } from '../../../../api/menu';\nimport { getAccessTokenApi } from '../../../../api/auth';\n\n\nimport './MenuWebList.scss';\n\nconst { confirm } = ModalAntd;\n\nexport default function MenuWebList(props) {\n    const { menu, setReloadMenuWeb } = props;\n    const [listItems, setListItems] = useState([]);\n    const [isVisibleModal, setIsVisibleModal] = useState(false);\n    const [modalTitle, setModalTitle] = useState('');\n    const [modalContent, setModalContent] = useState(null)\n\n    useEffect(() => {\n        const listItemArray = [];\n\n        menu.forEach(item => {\n            listItemArray.push({\n                content: <MenuItem item={item} activateMenu={activateMenu} />\n            })\n        });\n        setListItems(listItemArray)\n    }, [menu])\n    \n    const activateMenu = (menu, status) => {\n        const accessToken = getAccessTokenApi()\n        activateMenuApi(accessToken, menu._id, status).then(response => {\n            notification[\"success\"]({message: response})\n        })\n    }\n\n    const onSort = (sortedList, dropEvent) => {\n        const accessToken = getAccessTokenApi();\n\n        sortedList.forEach(item => {\n            const { _id } = item.content.props.item;\n            const order = item.rank;\n\n            updateMenuApi(accessToken, _id, { order });\n        })\n    }\n\n    return (\n        <div className='menu-web-list'>\n            <div className='menu-web-list__header'>\n                <Button type='primary'>\n                    Nuevo menu\n                </Button>\n            </div>\n            <div className='menu-web-list__items'>\n                <DragSortableList items={listItems} onSort={ onSort} type='vertical'/>\n            </div>\n        </div>\n    )\n}\n\nfunction MenuItem(props) {\n    const { item, activateMenu } = props;\n\n    return (\n        <List.Item actions={[\n            <Switch defaultChecked={item.active} on/>,\n            <Button type='primary'>\n                <EditOutlined />\n            </Button>,\n            <Button type='danger'>\n                 <DeleteOutlined />\n            </Button>\n        ]}>\n            <List.Item.Meta title={item.title} description={item.url} />\n        </List.Item>\n    )\n}"]},"metadata":{},"sourceType":"module"}